(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-videodetail-index"],{"047f":function(t,e,n){"use strict";n.r(e);var i=n("a2f8"),o=n("69ab");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("8544");var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"6073d93d",null,!1,i["a"],void 0);e["default"]=r.exports},"0779":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa"),n("c9b5"),n("bf0f"),n("ab80"),n("1851"),n("f7a5"),n("aa9c");var i={props:{num:[String,Number],color:{type:String,default:"#000000"},width:{type:String,default:"15"},height:{type:String,default:"15"},fontSize:{type:String,default:"15"}},data:function(){return{indexArr:[]}},created:function(){var t=this.num,e=new Array(t.toString().length);e.fill(0),this.indexArr=e},watch:{num:function(t,e){var n=Array.prototype.slice.apply(this.indexArr),i=t.toString().length,o=e.toString().length;if(i>o){for(var a=0;a<i-o;a++)n.push(0);this.indexArr=n}if(i<o){for(var s=0;s<o-i;s++)n.pop();this.indexArr=n}this.numChange(t)}},mounted:function(){var t=this;this._time=setTimeout((function(){t.numChange(t.num),clearTimeout(t._time)}),50)},methods:{numChange:function(t){for(var e=this.indexArr,n=Array.prototype.slice.apply(e),i=t.toString(),o=0;o<i.length;o++)"."===i[o]?n[o]=10:n[o]=Number(i[o]);this.indexArr=n}}};e.default=i},"0c5f":function(t,e,n){"use strict";var i=n("ebea"),o=n.n(i);o.a},1851:function(t,e,n){"use strict";var i=n("8bdb"),o=n("84d6"),a=n("1cb5");i({target:"Array",proto:!0},{fill:o}),a("fill")},"23d0":function(t,e,n){"use strict";n.r(e);var i=n("ef21"),o=n("3386");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("0c5f");var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"7436e78d",null,!1,i["a"],void 0);e["default"]=r.exports},"2c2e":function(t,e,n){"use strict";n("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("64aa");var i={address:"无地址哦~",car:"购物车空空如也~",comment:"无评论哦~",coupon:"无优惠券哦~",data:"无数据哦~",equipment:"无设备哦~",error:"出错了~",goods:"无商品哦~",history:"无历史记录哦~",list:"无列表哦~",loading:"努力加载中...",maintain:"正在维护中...",money:"无余额哦~",network:"无网络哦~",news:"无新闻哦~",notice:"无通知哦~",order:"无订单哦~",permission:"无权限哦~",points:"无积分哦~",search:"无搜索结果哦~",task:"无任务哦~",404:"页面走丢了~",500:"服务器出错了~"},o={name:"KevyEmpty",props:{type:{type:String,default:"data"},image:{type:String,default:void 0},text:{type:String,default:""},textColor:{type:String,default:"#969799"},textSize:{type:[String,Number],default:"28"},imageSize:{type:[String,Number],default:"320"},show:{type:Boolean,default:!1},fullScreen:{type:[Boolean,String],default:!1}},data:function(){return{}},computed:{icon:function(){return this.image?this.image:"/uni_modules/kevy-empty/static/empty/"+this.type+".png"},description:function(){return this.text?this.text:i[this.type]}},methods:{}};e.default=o},"2d62":function(t,e,n){"use strict";var i=n("6fe1"),o=n.n(i);o.a},3386:function(t,e,n){"use strict";n.r(e);var i=n("a7ae"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"46b9":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 需要放到文件最上面 */\n/* 水平间距 */\n/* 水平间距 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.number-box[data-v-26b63271]{display:flex;flex-wrap:wrap;justify-content:center}.swiper[data-v-26b63271]{position:relative}.swiper[data-v-26b63271]:after{content:"";position:absolute;left:0;top:0;width:100%;height:100%}',""]),t.exports=e},5888:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"number-box"},[t._l(t.indexArr,(function(e,i){return[n("v-uni-swiper",{key:i+"_0",staticClass:"swiper",style:{color:t.color,width:10==e?"10px":t.width+"px",height:t.height+"px",lineHeight:t.fontSize+"px",fontSize:t.fontSize+"px"},attrs:{vertical:"true",current:e,circular:"true"}},[n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[t._v("0")])],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[t._v("1")])],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[t._v("2")])],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[t._v("3")])],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[t._v("4")])],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[t._v("5")])],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[t._v("6")])],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[t._v("7")])],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[t._v("8")])],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[t._v("9")])],1),n("v-uni-swiper-item",[n("v-uni-view",{staticClass:"swiper-item"},[t._v(".")])],1)],1)]}))],2)},o=[]},"69ab":function(t,e,n){"use strict";n.r(e);var i=n("2c2e"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"6fe1":function(t,e,n){var i=n("46b9");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("967d").default;o("0ad04d87",i,!0,{sourceMap:!1,shadowMode:!1})},"73e1":function(t,e,n){"use strict";var i=n("29d8");t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(i)},"795c":function(t,e,n){"use strict";var i=n("8bdb"),o=n("db04").start,a=n("73e1");i({target:"String",proto:!0,forced:a},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},8544:function(t,e,n){"use strict";var i=n("9831"),o=n.n(i);o.a},"87a0":function(t,e,n){"use strict";n.r(e);var i=n("5888"),o=n("b9ae");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("2d62");var s=n("828b"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"26b63271",null,!1,i["a"],void 0);e["default"]=r.exports},"90af":function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 需要放到文件最上面 */\n/* 水平间距 */\n/* 水平间距 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.container[data-v-7436e78d]{height:100%;overflow-y:hidden}.container .radio-button[data-v-7436e78d]{padding:%?20?% %?30?%;background:#f6f6f6;border-radius:%?40?%;\n  /* 默认背景色 */color:#333;\n  /* 文字颜色 */margin-top:%?30?%;border:%?4?% solid #fff\n  /* 鼠标指针 */}.container .radio-button.active[data-v-7436e78d]{color:#3c7bed;background:rgba(60,123,237,.1);border-radius:%?16?% %?16?% %?16?% %?16?%;border:%?4?% solid #3c7bed}.container .radio-button.wrong[data-v-7436e78d]{color:red;background:rgba(60,123,237,.1);border-radius:%?16?% %?16?% %?16?% %?16?%;border:%?4?% solid red}.container .container[data-v-7436e78d]{padding:20px}.container .question[data-v-7436e78d]{margin-bottom:20px}.container .question-text[data-v-7436e78d]{margin-bottom:10px}.container .restext[data-v-7436e78d]{color:red}.container .navbar[data-v-7436e78d]{display:flex;justify-content:space-between;\n  /* 根据需要调整 */align-items:center;\n  /* 根据需要调整 */padding:%?20?%;\n  /* 根据需要调整 */margin-top:%?20?%}.container .botvids[data-v-7436e78d]{display:flex;justify-content:space-around;align-items:center;width:80%;height:%?30?%;position:relative;bottom:%?60?%;margin-left:10%;padding-top:%?0?%}.container .c-header[data-v-7436e78d]{display:flex;justify-content:center;align-items:center}.container .progress-bar[data-v-7436e78d]{width:60%;height:%?8?%;background-color:#ccc;position:relative;border-radius:%?10?%;opacity:.5}.container .progress[data-v-7436e78d]{height:%?8?%;background-color:#3c7bed;position:absolute;left:0;top:0;border-radius:%?10?%}.container .textpos[data-v-7436e78d]{font-size:%?25?%;color:#fff}.container .r_bag .bag1[data-v-7436e78d]{position:fixed;left:%?-46?%;bottom:%?260?%;width:%?150?%;height:%?100?%;z-index:999}.container .rbag_model[data-v-7436e78d]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:rgba(0,0,0,.3);z-index:1000}.container .rbag_model .rbag_con[data-v-7436e78d]{position:absolute;top:0;left:0;right:0;bottom:0;width:80%;height:%?840?%;background-color:#da4d44;margin:auto;border-radius:%?14?%;box-shadow:%?0?% %?0?% %?10?% rgba(0,0,0,.2)}.container .rbag_model .rbag_con .rbag_top[data-v-7436e78d]{position:absolute;left:-20%;top:0;width:140%;height:%?540?%;background-color:#e0534a;border-radius:0 0 50% 50%;box-shadow:0 0 %?14?% rgba(0,0,0,.4);z-index:1001}.container .rbag_model .rbag_con .rbag_top .rbag_top_info[data-v-7436e78d]{margin-top:%?60?%}.container .rbag_model .rbag_con .rbag_top .rbag_top_info .rbag_logo[data-v-7436e78d]{width:%?160?%;height:%?160?%;border-radius:50%;display:block;margin:0 auto;overflow:hidden}.container .rbag_model .rbag_con .rbag_top .rbag_top_info .app_name[data-v-7436e78d]{font-size:%?38?%;color:#f6ac96;text-align:center;margin-top:%?18?%;letter-spacing:%?1?%}.container .rbag_model .rbag_con .rbag_top .rbag_top_info .rbag_tips[data-v-7436e78d]{font-size:%?50?%;color:#edddd3;text-align:center;margin-top:%?34?%;letter-spacing:%?1?%}.container .rbag_model .rbag_con .open_rbag_btn[data-v-7436e78d]{position:absolute;top:%?450?%;left:0;right:0;width:%?180?%;height:%?180?%;line-height:%?180?%;border-radius:50%;margin:0 auto;text-align:center;background-color:#ffd287;font-size:%?55?%;color:#fef5e8;box-shadow:%?2?% %?2?% %?6?% rgba(0,0,0,.2);z-index:1002}.container .rbag_model .rbag_con .hide_btn[data-v-7436e78d]{position:absolute;bottom:%?-110?%;left:0;right:0;width:%?80?%;height:%?80?%;line-height:%?80?%;text-align:center;margin:0 auto}.container .rbag_model .hidden[data-v-7436e78d]{overflow:hidden}.container .open_rbag_model[data-v-7436e78d]{position:fixed;top:0;left:0;width:100%;height:100vh;background-color:rgba(0,0,0,.3);z-index:1000}.container .open_rbag_model .rbag_conbg[data-v-7436e78d]{position:absolute;top:0;left:0;right:0;bottom:0;width:80%;height:%?840?%;margin:auto;z-index:1001}.container .open_rbag_model .open_rbag_con[data-v-7436e78d]{z-index:1002}.container .open_rbag_model .open_rbag_con .open_title[data-v-7436e78d]{height:%?120?%;line-height:%?120?%;text-align:center;font-size:%?38?%;letter-spacing:%?2?%;color:#e46965}.container .open_rbag_model .open_rbag_con .rbag_detail[data-v-7436e78d]{margin-top:%?90?%}.container .open_rbag_model .open_rbag_con .rbag_detail .open_money[data-v-7436e78d]{text-align:center;font-size:%?80?%;color:#c95948;font-weight:700;display:flex;justify-content:center}.container .open_rbag_model .open_rbag_con .rbag_detail .open_money .danwei[data-v-7436e78d]{font-size:%?30?%;margin-left:%?16?%;margin-top:%?24?%}.container .open_rbag_model .open_rbag_con .rbag_detail .open_tips[data-v-7436e78d]{text-align:center;font-size:%?30?%;color:#d26762;margin-top:%?30?%}.container .open_rbag_model .open_rbag_con .lookbag_box[data-v-7436e78d]{margin-top:%?200?%;display:flex;justify-content:center}.container .open_rbag_model .open_rbag_con .lookbag_box .lookbag_btn[data-v-7436e78d]{width:70%;height:%?90?%;line-height:%?90?%;text-align:center;font-size:%?32?%;color:#c95948;letter-spacing:%?2?%;background-color:#ffd356;border-radius:%?50?%;box-shadow:%?0?% %?0?% %?4?% rgba(0,0,0,.2)}.container .open_rbag_model .open_rbag_con .hide_btn[data-v-7436e78d]{position:absolute;bottom:%?-110?%;left:0;right:0;width:%?80?%;height:%?80?%;line-height:%?80?%;text-align:center;margin:0 auto}',""]),t.exports=e},9831:function(t,e,n){var i=n("e868");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("967d").default;o("0edffcbb",i,!0,{sourceMap:!1,shadowMode:!1})},a2f8:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"t-content"},[n("v-uni-view",{class:["t-wh",{"full-screen":t.fullScreen}]},[t.show?n("v-uni-view",{staticClass:"t-empty"},[n("v-uni-image",{staticClass:"t-icon",style:{width:t.imageSize+"rpx",height:t.imageSize+"rpx"},attrs:{src:t.icon}}),t.description?n("v-uni-view",{staticClass:"t-text",style:{color:t.textColor,"font-size":t.textSize+"rpx"}},[t._v(t._s(t.description))]):t._e()],1):t._e(),t._t("default")],2)],1)},o=[]},a7ae:function(t,e,n){"use strict";n("6a54");var i=n("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("5de6"));n("64aa"),n("bf0f"),n("2797"),n("aa9c"),n("e838"),n("7a76"),n("c9b5"),n("c223"),n("5c47"),n("0506"),n("fd3c"),n("795c"),n("ab80"),n("e966");n("9b8e");var a=i(n("d814")),s=i(n("87a0")),r={data:function(){return{systemHeight:"",videoUrl:"../../static/vidos.mp4",selectedIndex:null,videoSrc:"",detains:"",courseTitle:"",currentTime:0,times:10,duration:0,videoContext:null,progress:0,endvalue:!0,items:[{value:"答题1",name:"答题1"},{value:"答题2",name:"答题2"}],showbutton:!1,shareimg:"",shareid:"",questionList:[],questionList1:[],questionListcorrect:[],list:["答题","视频详情"],optionsid:"",current:0,num:12.68,inkey:1,bag1animation:{},openbrnanimation:{},rbagmodelshow:!1,openrbagmodelshow:!1,instd:!1,answer_count:1,firstPlay:null,transferbills:null,sferbills:null,progressLoaded:!1,isEmployee:!1,verify:!1}},onLoad:function(t){var e=this;if(console.log(t.courseId),this.optionsid=t.courseId,this.optionsid&&""!=this.optionsid){var n=this;return uni.getStorage({key:"personal",success:function(t){n.isEmployee=t.data.isEmployee,n.verify=t.data.verify}}),uni.showToast({title:"加载中",icon:"loading"}),(0,a.default)({url:"front/courses/".concat(this.optionsid,"/play"),method:"GET"}).then((function(t){e.progress=Number(t.playProgress),console.log("进度条",e.progress),e.progress<=95?e.firstPlay=!0:(e.firstPlay=!1,e.endvalue=!1),(0,a.default)({url:"front/courses/".concat(e.optionsid),method:"GET"}).then((function(t){1==e.isEmployee?(console.log("是员工"),e.videoSrc=t.course.url,e.detains=t.detail,e.courseTitle=t.title,e.shareimg=t.cover.url,e.shareid=t.id,e.sferbills=t.is_transfer_bills,""!=e.videoSrc&&null!=e.progress&&(e.progressLoaded=!0),(0,a.default)({url:"front/courses/".concat(e.optionsid,"/questions"),method:"GET"}).then((function(t){t.forEach((function(t){t.selectedAnswer=null,t.isAnsweredCorrectly=!1,t.answer_count=1})),e.questionList=t,e.questionList.length>0?(e.questionList1.push(e.questionList[0]),e.questionList.shift(),""==e.questionList&&(e.showbutton=!0)):console.log("暂无数据")}))):(console.log("是会员"),console.log("进度条",e.progress),e.videoSrc=t.course.url,e.detains=t.detail,e.courseTitle=t.title,e.shareimg=t.cover.url,e.shareid=t.id,e.sferbills=t.is_transfer_bills,""!=e.videoSrc&&null!=e.progress&&(e.progressLoaded=!0),(0,a.default)({url:"front/courses/".concat(e.optionsid,"/questions"),method:"GET"}).then((function(t){t.forEach((function(t){t.selectedAnswer=null,t.isAnsweredCorrectly=!1,t.answer_count=1})),e.questionList=t,e.questionList.length>0?(e.questionList1.push(e.questionList[0]),e.questionList.shift(),""==e.questionList&&(e.showbutton=!0)):console.log("暂无数据")})))}))})),(0,a.default)({url:"front/courses/is_transfer_bills",method:"GET"}).then((function(t){e.transferbills=t.is_transfer_bills})),this.getHeight(),void this.imageanimation()}},onShow:function(){},onShareAppMessage:function(t){return console.log("分享：from:"+t.from),console.log(this.shareid),"button"===t.from&&console.log(t.target),{title:"课程",imageUrl:this.shareimg,path:"/pages/videodetail/index?courseId=".concat(this.shareid)}},onUnload:function(){if(1==this.firstPlay){var t=parseFloat(this.progress.toFixed(2));(0,a.default)({url:"front/courses/".concat(this.optionsid,"/progress"),method:"POST",data:{progress:t}}).then((function(t){console.log(t)}))}},onReady:function(){var t=this;this.videoContext=uni.createVideoContext("myVideo"),this.videoContext.onCanPlay((function(){t.videoContext.duration().then((function(e){console.log(e),t.duration=e}))}))},mounted:function(){var t=this;this.videoContext=uni.createVideoContext("myVideo",this);(function(){return new Promise((function(t,e){if(window.wx&&"function"===typeof window.wx.config)return window.wxWeb=window.wx,console.log("微信SDK已存在并可用"),void t();window.wx&&(console.warn("检测到无效的wx对象，重新加载SDK"),delete window.wx);var n=document.createElement("script");n.src="https://res.wx.qq.com/open/js/jweixin-1.6.0.js",n.type="text/javascript",n.charset="utf-8",n.onload=function(){window.wx&&"function"===typeof window.wx.config?(window.wxWeb=window.wx,console.log("微信SDK加载成功"),t()):e(new Error("微信SDK加载不完整，缺少config方法"))},n.onerror=function(t){e(new Error("微信SDK加载失败: ".concat(t.message)))},document.head.appendChild(n)}))})().then((function(){console.log("准备调用initWxConfig"),t.initWxConfig()})).catch((function(t){console.error("SDK加载错误:",t),uni.showToast({title:"微信功能初始化失败",icon:"none",duration:3e3})}))},components:{countup:s.default},methods:{initWxConfig:function(){var t=this,e=window.location.href.split("#")[0];(0,a.default)({url:"front/signature?url=".concat(e),method:"GET"}).then((function(n){window.wxWeb.config({debug:!1,appId:n.appId,timestamp:n.timestamp,nonceStr:n.nonceStr,signature:n.signature,jsApiList:["updateAppMessageShareData","updateTimelineShareData"]}),window.wxWeb.ready((function(){window.wxWeb.updateAppMessageShareData({title:t.courseTitle,desc:t.detains,link:"".concat(t.$apiBaseUrl,"auth/front/wechat?redirect=").concat(e),imgUrl:t.shareimg,success:function(){console.log("分享配置成功")},fail:function(t){console.log("分享配置失败：",t)}})})),window.wxWeb.error((function(t){console.error("wxWeb配置失败：",t)}))}))},isTodayInRange:function(t,e){var n=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z$/;if(!n.test(t)||!n.test(e))return console.error("日期格式不正确，应为ISO 8601格式：YYYY-MM-DDTHH:mm:ss.sssZ"),!1;try{var i=new Date(t),o=new Date(e),a=new Date;if(isNaN(i.getTime())||isNaN(o.getTime()))return console.error("日期解析失败，无效的日期值"),!1;var s=a>=i,r=a<=o;return s&&r}catch(c){return console.error("时间范围判断失败:",c.message),!1}},submitSurvey:function(){var t=this;if(console.log(this.questionListcorrect),""!=this.questionListcorrect&&void 0!=this.questionListcorrect)if(this.questionListcorrect[0].selectedAnswer==this.questionListcorrect[0].correctAnswer){var e=this.questionListcorrect[0].answer_count;(0,a.default)({url:"front/courses/".concat(this.optionsid,"/questions/save"),method:"POST",data:{answer_count:e}}).then((function(e){1==t.transferbills&&1==t.sferbills?t.openrbagbtn():uni.showModal({title:"提示",content:"提交答案成功！",showCancel:!1,success:function(t){t.confirm&&(console.log("用户点击确定"),setTimeout((function(){uni.switchTab({url:"/pages/home/index"})}),1e3))}})})).catch((function(e){console.log(t.progress),console.log(e)}))}else uni.showModal({title:"提示",content:"请先选择正确答案",confirmText:"确定",showCancel:!1,success:function(t){t.confirm&&console.log("用户点击确定")}});else uni.showModal({title:"提示",content:"请先选择正确答案",confirmText:"确定",showCancel:!1,success:function(t){t.confirm&&console.log("用户点击确定")}})},imageanimation:function(){var t=this,e=!0,n=uni.createAnimation({duration:1e3,timingFunction:"ease"});t.bag1animation=n,setInterval((function(){e?(n.rotate(36).step(),e=!e):(n.rotate(6).step(),e=!e),t.bag1animation=n.export()}),1100)},openrbagbtn:function(){this.rbagmodelshow=!0},hidebtn:function(){this.rbagmodelshow=!1},openbtn:function(){var t=this,e=this;(0,a.default)({url:"front/courses/".concat(this.optionsid,"/transfer_bills"),method:"GET"}).then((function(n){var i=n;"红包只能领一次"==n.message?(t.rbagmodelshow=!1,uni.showModal({title:"提示",content:n.message||"领取失败!",showCancel:!1,success:function(t){t.confirm&&(console.log("用户点击确定"),setTimeout((function(){uni.switchTab({url:"/pages/home/index"})}),1e3))}})):(0,a.default)({url:"front/signature?url=".concat(t.$apiDomainUrl,"/h5"),method:"GET"}).then((function(t){window.wxWeb.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:["chooseWXPay","updateAppMessageShareData","updateTimelineShareData"]}),window.wxWeb.ready((function(){window.wxWeb.checkJsApi({jsApiList:["requestMerchantTransfer"],success:function(n){n.checkResult["requestMerchantTransfer"]?WeixinJSBridge.invoke("requestMerchantTransfer",{mchId:i.mchId,appId:t.appId,package:i.package_info},(function(t){"requestMerchantTransfer:ok"===t.err_msg&&(0,a.default)({url:"front/courses/".concat(e.optionsid,"/transfer_bills/confirm"),method:"GET"}).then((function(t){setTimeout((function(){uni.switchTab({url:"/pages/home/index"})}),500)})).catch((function(t){console.log(t)}))})):alert("你的微信版本过低，请更新至最新版本。")}})}))}))})).catch((function(e){console.log(e),t.rbagmodelshow=!1,uni.showModal({title:"提示",content:e.message||"领取失败!!",showCancel:!1,success:function(t){t.confirm&&(console.log("用户点击确定"),uni.switchTab({url:"/pages/home/index"}))}})}))},hideopenbtn:function(){this.openrbagmodelshow=!1},lookbagbrn:function(){},timeToSeconds:function(t){var e=t.split(":").map(Number),n=0;if(3===e.length){var i=(0,o.default)(e,3),a=i[0],s=i[1],r=i[2];n=3600*a+60*s+r}else if(2===e.length){var c=(0,o.default)(e,2),d=c[0],l=c[1];n=60*d+l}return n},selectOption:function(t,e){0==this.endvalue?(console.log(this.questionList1),this.questionList1[t].selectedAnswer=e,this.questionList1[t].isAnsweredCorrectly||(this.questionList1[t].selectedAnswer!=this.questionList1[t].correctAnswer?(this.questionList1[t].answer_count++,uni.showToast({title:"答案错误",icon:"error"})):(this.questionList1[t].isAnsweredCorrectly=!0,this.questionListcorrect.push(this.questionList1[0]),uni.showModal({title:"提示",content:"答案正确,请点击提交答案！",showCancel:!1,success:function(t){t.confirm&&console.log("用户点击确定")}}),this.showbutton=!0))):uni.showModal({title:"提示",content:"请先看完视频才能答题哦！！",confirmText:"确定",showCancel:!1,success:function(t){t.confirm?console.log("用户点击确定"):t.cancel&&console.log("用户点击取消")}})},sectionChange:function(t){this.current=t.currentIndex,console.log(t)},goBack:function(){if(1==this.firstPlay){var t=this,e=parseFloat(t.progress.toFixed(2));0==this.endvalue?(0,a.default)({url:"front/courses/".concat(t.optionsid,"/progress"),method:"POST",data:{progress:e}}).then((function(t){console.log(t),"success"==t&&uni.navigateBack({delta:1})})):uni.showModal({title:"确定退出么？",content:"看完视频答完题会有红包奖励哦！！",cancelText:"取消退出",confirmText:"确定退出",success:function(n){n.confirm?(console.log("用户点击确定"),(0,a.default)({url:"front/courses/".concat(t.optionsid,"/progress"),method:"POST",data:{progress:e}}).then((function(t){console.log(t),"success"==t&&uni.navigateBack({delta:1})}))):n.cancel&&console.log("用户点击取消")}})}else uni.navigateBack({delta:1})},handleMetadataLoaded:function(t){this.videoContext=uni.createVideoContext("myVideo");console.log(this.firstPlay),1==this.firstPlay?(this.duration=t.detail.duration,console.log("百分比",this.progress),console.log("时间",this.duration),this.currentTime=this.progress*this.duration/100,this.currentTime=this.formatTime(this.currentTime),console.log("开始播放时间",this.currentTime),this.times=Number(this.timeToSeconds(this.currentTime)),this.videoContext.seek(this.times)):(console.log("开始从头播放"),this.duration=t.detail.duration,this.videoContext.seek(0))},onVideoClick:function(){this.firstPlay||(this.videoContext.seek(0),this.videoContext.play())},handleVideoEnded:function(){if(console.log("视频播放完成"),this.firstPlay){this.endvalue=!1,console.log(this.endvalue);var t=parseFloat(this.progress.toFixed(2));console.log(t),(0,a.default)({url:"front/courses/".concat(this.optionsid,"/progress"),method:"POST",data:{progress:t}}).then((function(t){})),this.firstPlay=!1}else this.endvalue=!1},handleTimeUpdate:function(t){this.currentTime=t.detail.currentTime,this.progress=this.currentTime/this.duration*100;var e={time:this.formatTime(this.currentTime),progress:this.progress};uni.setStorage({key:"videotime",data:e,success:function(){}})},formatTime:function(t){var e=Math.floor(t/60),n=Math.floor(t%60);return"".concat(e.toString().padStart(2,"0"),":").concat(n.toString().padStart(2,"0"))},handleVideoError:function(t){console.error("视频加载错误:",t)},getHeight:function(){var t=this;uni.getSystemInfo({success:function(e){t.systemHeight=parseInt(2*e.statusBarHeight)}})}}};e.default=r},b9ae:function(t,e,n){"use strict";n.r(e);var i=n("0779"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},db04:function(t,e,n){"use strict";var i=n("bb80"),o=n("c435"),a=n("9e70"),s=n("f298"),r=n("862c"),c=i(s),d=i("".slice),l=Math.ceil,u=function(t){return function(e,n,i){var s,u,p=a(r(e)),f=o(n),h=p.length,g=void 0===i?" ":a(i);return f<=h||""===g?p:(s=f-h,u=c(g,l(s/g.length)),u.length>s&&(u=d(u,0,s)),t?p+u:u+p)}};t.exports={start:u(!1),end:u(!0)}},e868:function(t,e,n){var i=n("c86c");e=i(!1),e.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 需要放到文件最上面 */\n/* 水平间距 */\n/* 水平间距 */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.t-content[data-v-6073d93d]{width:100%;box-sizing:border-box;padding:%?20?% %?0?% %?30?%;position:relative}.t-wh[data-v-6073d93d]{width:100%;height:100%;box-sizing:border-box}.t-empty[data-v-6073d93d]{display:flex;flex-direction:column;justify-content:center;align-items:center}.t-empty .t-text[data-v-6073d93d]{margin-top:%?16?%}.full-screen[data-v-6073d93d]{display:flex;flex-direction:column;justify-content:flex-start;align-items:center;padding-top:%?100?%;background:#fff;position:fixed;top:%?0?%;left:%?0?%;bottom:%?0?%;right:%?0?%;box-sizing:border-box;width:100%;height:100vh;overflow:hidden}',""]),t.exports=e},ebea:function(t,e,n){var i=n("90af");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var o=n("967d").default;o("07c23dfa",i,!0,{sourceMap:!1,shadowMode:!1})},ef21:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uniIcons:n("39f9").default,kevyEmpty:n("047f").default},o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"container",style:{marginTop:t.systemHeight+"rpx"}},[n("v-uni-view",{staticClass:"headers"},[n("v-uni-view",{staticClass:"navbar"},[n("v-uni-view",{staticClass:"back-button",staticStyle:{width:"20%",display:"flex","align-items":"center"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goBack.apply(void 0,arguments)}}},[n("uni-icons",{attrs:{type:"left",size:"21",color:"black"}}),n("v-uni-view",{staticStyle:{"margin-top":"-8rpx"}},[t._v("返回")])],1)],1)],1),n("v-uni-view",[t.progressLoaded?n("v-uni-video",{ref:"myVideo",staticStyle:{width:"100%",position:"relative"},attrs:{id:"myVideo","show-progress":!1,src:t.videoSrc,autoplay:"true",controls:"false","enable-progress-gesture":!1},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onVideoClick.apply(void 0,arguments)},timeupdate:function(e){arguments[0]=e=t.$handleEvent(e),t.handleTimeUpdate.apply(void 0,arguments)},ended:function(e){arguments[0]=e=t.$handleEvent(e),t.handleVideoEnded.apply(void 0,arguments)},error:function(e){arguments[0]=e=t.$handleEvent(e),t.handleVideoError.apply(void 0,arguments)},loadedmetadata:function(e){arguments[0]=e=t.$handleEvent(e),t.handleMetadataLoaded.apply(void 0,arguments)}}}):t._e(),n("v-uni-view",{staticClass:"botvids"},[n("v-uni-view",{staticClass:"progress-bar"},[n("v-uni-view",{staticClass:"progress",style:{width:t.progress+"%"}})],1),n("v-uni-view",{staticClass:"textpos"},[t._v(t._s(t.formatTime(t.currentTime))+" /\n\t\t\t\t"+t._s(t.formatTime(t.duration)))])],1)],1),n("v-uni-view",{staticStyle:{width:"100%",margin:"-25rpx auto",background:"#FFFFFF","box-shadow":"0rpx 6rpx 12rpx 2rpx rgba(0,0,0,0.16)","border-radius":"56rpx 56rpx 0rpx 0rpx"}},[n("v-uni-view",{staticClass:"content",staticStyle:{height:"900rpx","overflow-y":"scroll"}},[n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0===t.current,expression:"current === 0"}]},[t._l(t.questionList1,(function(e,i){return n("v-uni-view",{key:i,staticClass:"container",staticStyle:{"padding-top":"20rpx","padding-bottom":"0rpx"}},[n("v-uni-view",{staticClass:"question"},[n("v-uni-view",{staticClass:"question-text"},[n("v-uni-text",{staticClass:"restext"},[t._v("单选题")]),t._v(t._s(e.title))],1),t._l(e.options,(function(o,a){return n("v-uni-view",{key:a,class:["radio-button",{active:e.selectedAnswer==o.value,wrong:e.selectedAnswer===o.value&&e.selectedAnswer!==e.correctAnswer}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.selectOption(i,o.value)}}},[t._v(t._s(o.text))])}))],2)],1)})),t.showbutton?n("v-uni-button",{staticStyle:{width:"90%",background:"#3C7BED",color:"white","border-radius":"40rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitSurvey.apply(void 0,arguments)}}},[t._v("提交答案")]):t._e(),n("v-uni-text",{staticStyle:{height:"160rpx",opacity:"0","margin-top":"20rpx"}},[t._v("csiiiiiiiiiiii")]),t.questionList1.length<=0?n("v-uni-view",{staticClass:"goods-empty-wrap"},[n("kevy-empty",{attrs:{show:!0,type:"data"}})],1):t._e()],2),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===t.current,expression:"current === 1"}]},[n("v-uni-view",{staticClass:"container"},[t._v(t._s(t.detains))]),t.detains.length<=0?n("v-uni-view",{staticClass:"goods-empty-wrap"},[n("kevy-empty",{attrs:{show:!0,type:"data"}})],1):t._e()],1)],1)],1),n("v-uni-view",[t.rbagmodelshow?n("v-uni-view",{staticClass:"rbag_model",on:{touchmove:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[n("v-uni-view",{staticClass:"rbag_con hidden"},[n("v-uni-view",{staticClass:"rbag_top"},[n("v-uni-view",{staticClass:"rbag_top_info"},[n("v-uni-image",{staticClass:"rbag_logo",attrs:{src:"/static/icon/logo.jpg",mode:""}}),n("v-uni-view",{staticClass:"app_name"},[t._v("恭喜发财")]),n("v-uni-view",{staticClass:"rbag_tips"},[t._v("送您一个红包")])],1)],1),n("v-uni-view",{staticClass:"open_rbag_btn",attrs:{animation:t.openbrnanimation},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.openbtn()}}},[t._v("開")])],1),n("v-uni-view",{staticClass:"rbag_con"},[n("v-uni-view",{staticClass:"hide_btn",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.hidebtn.apply(void 0,arguments)}}},[n("v-uni-icon",{attrs:{type:"cancel",color:"#fbd977",size:"28"}})],1)],1)],1):t._e(),t.openrbagmodelshow?n("v-uni-view",{staticClass:"open_rbag_model",on:{touchmove:function(e){e.preventDefault(),e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[n("v-uni-image",{staticClass:"rbag_conbg",attrs:{src:"/static/icon/openrbag.png"}}),n("v-uni-view",{staticClass:"rbag_conbg open_rbag_con"},[n("v-uni-view",{staticClass:"open_title"},[t._v("— 恭喜您获得 —")]),n("v-uni-view",{staticClass:"rbag_detail"},[n("v-uni-view",{staticClass:"open_money"},[n("countup",{attrs:{num:t.num,color:"#c95948",width:"21",height:"34",fontSize:"34"}}),n("v-uni-view",{staticClass:"danwei"},[t._v("元")])],1),n("v-uni-view",{staticClass:"open_tips"},[t._v("已存入微信钱包，请注意查看")])],1),n("v-uni-view",{staticClass:"lookbag_box"}),n("v-uni-view",{staticClass:"hide_btn",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.hideopenbtn()}}},[n("v-uni-icon",{attrs:{type:"cancel",color:"#fbd977",size:"28"}})],1)],1)],1):t._e()],1)],1)},a=[]},f298:function(t,e,n){"use strict";var i=n("497b"),o=n("9e70"),a=n("862c"),s=RangeError;t.exports=function(t){var e=o(a(this)),n="",r=i(t);if(r<0||r===1/0)throw new s("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n}}}]);